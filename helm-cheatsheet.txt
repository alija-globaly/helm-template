Helm Command Cheat Sheet

1. Install a Helm chart
microk8s helm install <release-name> <chart-path> \
  --namespace <namespace> \
  --create-namespace

2. Reinstall (replace the existing release)
microk8s helm install <release-name> <chart-path> \
  --namespace <namespace> \
  --replace

3. Uninstall a release
microk8s helm uninstall <release-name> -n <namespace>

4. List all releases in a namespace
microk8s helm list -n <namespace>

5. Upgrade an existing release
microk8s helm upgrade <release-name> <chart-path> \
  -n <namespace>

6. Upgrade or install (safe option)
microk8s helm upgrade --install <release-name> <chart-path> \
  -n <namespace>

7. Update chart dependencies
microk8s helm dependency update <chart-path>/

Note: Typical Workflow (when library chart changes). After updating anything inside your library chart, run:
microk8s helm dependency update <chart-path>/
microk8s helm upgrade <release-name> <chart-path> -n <namespace>

8. Render Helm templates (validate YAML without installing)
microk8s helm template <release-name> <chart-path> \
  --namespace <namespace>

9. Render with debug and save output
microk8s helm template <release-name> <chart-path> \
  --debug > /tmp/output.yaml



cd ~/helm-test/centralized-microservices

# Test
helm template sms-campaign . -f values-sms-campaign.yaml --namespace agentcis-sms-campaign

# Install
microk8s helm install sms-campaign . -f values-sms-campaign.yaml --namespace agentcis-sms-campaign --create-namespace

# Verify
microk8s kubectl get all -n agentcis-sms-campaign

10. microk8s helm install sms-campaign . -f values-sms-campaign.yml --namespace agentcis-sms-campaign

microk8s helm install myloki grafana/loki -f loki-custom-values.yaml --namespace monitoring
microk8s helm install mygrafana grafana/grafana -f grafana-custom-values.yaml --namespace monitoring

# Delete old secret
kubectl delete secret mygrafana -n monitoring

# Delete old configmap
kubectl delete configmap mygrafana -n monitoring

# Optional: delete PVC if you want a completely fresh DB (careful, you lose dashboards)
kubectl delete pvc mygrafana -n monitoring

microk8s helm uninstall mygrafana -n monitoring